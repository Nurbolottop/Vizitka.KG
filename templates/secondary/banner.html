{% extends 'include/homepage.html'%}
{% load static %}
{% block content %}
    <!-- ====== start loading page ====== -->
    <div id="preloader">
    </div>
    <!-- ====== end loading page ====== -->

    <!-- ====== start navbar-container ====== -->
    {% include 'include/header.html'%}

    <!-- ====== start navbar-container ====== -->
    <style>

        .element.style {
            width: 384px;
            margin-right: -77px;
        }
        .product-card {
            border: 1px solid #ddd;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            width: 250px;
            opacity: 0; /* начальное состояние прозрачности - скрыто */
            animation: fadeIn 0.5s ease forwards; /* анимация плавного появления */
        }
    
        .product-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 15px 15px 0 0;
        }
    
        .info {
            height: 120px;
            padding: 15px;
            overflow: hidden;
        }
    
        .title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            display: block;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    
        .price {
            font-size: 20px;
            color: #000000;
            font-weight: bold;
        }
    
        .currency {
            font-size: 18px;
            color: #f00;
            font-weight: bold;
            text-decoration: underline;
        }
    
        /* анимация плавного появления */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    </style>

    

    <!--Contents-->
    <main>

        <!-- ====== start tc-main-post-style1 ====== -->
        <section class="tc-main-post-style1 pb-60">
            <div class="container">
                <div class="tc-main-post-content color-000">
                    <div class="row">
                        <div class="col-lg-10">
                            <p class="info-text sm-content-width mt-40">
                                {{banner.title|safe}}</p> 
                        </div>
                    </div>
                </div>
            </div>
        </section>
        {% if magazine %}
        <section class="tc-products-content section-padding" style="padding: 24px 0;">
            <div class="container">
                <div class="title text-center mb-30">
                    <h2 class="fsz-30px"> Журнал </h2>
                </div>
                <div class="related-products-slider tc-products position-relative tc-slider-style1">
                    <div class="swiper-container journal-swiper">
                        <div class="swiper-wrapper">
                            {% for magazine in magazine %}
                            <div class="swiper-slide">
                                <div class="product-card">
                                    <img src="{{ magazine.image.url }}" alt="{{ magazine.title }}">
                                    <div class="info">
                                        <a href="{% url 'magazine_detail' magazine.id %}" class="title">{{ magazine.title }}</a>
                                        <strong class="price">{{ magazine.price }}</strong>
                                        <span class="currency">Сом</span>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="swiper-button-next journal-next"></div>
                        <div class="swiper-button-prev journal-prev"></div>
                    </div>
                </div>
            </div>
        </section>
        {% endif %}
        
        {% if site %}
        <section class="tc-products-content section-padding" style="padding: 24px 0;">
            <div class="container">
                <div class="title text-center mb-30">
                    <h2 class="fsz-30px"> Сайт </h2>
                </div>
                <div class="related-products-slider tc-products position-relative tc-slider-style1">
                    <div class="swiper-container site-swiper">
                        <div class="swiper-wrapper">
                            {% for site in site %}
                            <div class="swiper-slide">
                                <div class="product-card">
                                    <img src="{{ site.image.url }}" alt="{{ site.title }}">
                                    <div class="info">
                                        <a href="{% url 'site_detail' site.id %}" class="title">{{ site.title }}</a>
                                        <strong class="price">{{ site.price }}</strong>
                                        <span class="currency">Сом</span>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="swiper-button-next site-next"></div>
                        <div class="swiper-button-prev site-prev"></div>
                    </div>
                </div>
            </div>
        </section>
        {% endif %}
        
        <script>
            // Инициализация Swiper для журнала
            var journalSwiper = new Swiper('.journal-swiper', {
                slidesPerView: 3,
                spaceBetween: 30,
                navigation: {
                    nextEl: '.journal-next',
                    prevEl: '.journal-prev',
                },
            });
        
            // Инициализация Swiper для сайта
            var siteSwiper = new Swiper('.site-swiper', {
                slidesPerView: 3,
                spaceBetween: 30,
                navigation: {
                    nextEl: '.site-next',
                    prevEl: '.site-prev',
                },
            });
        </script>
        

        {% if sites %}
        <section class="tc-products-content section-padding" style="padding: 24px 0;">
            <div class="container">
                <div class="title text-center mb-30">
                    <h2 class="fsz-30px"> Сайт </h2>
                </div>
                <div class="related-products-slider tc-products position-relative tc-slider-style1">
                    <div class="swiper-container site-swiper">
                        <div class="swiper-wrapper">
                            {% for site in sites %}
                            <div class="swiper-slide">
                                <div class="product-card">
                                    <img src="{{ site.image.url }}" alt="{{ site.title }}">
                                    <div class="info">
                                        <a href="{% url 'site_detail' site.id %}" class="title">{{ site.title }}</a>
                                        <strong class="price">{{ site.price }}</strong>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="swiper-button-next site-next"></div>
                        <div class="swiper-button-prev site-prev"></div>
                    </div>
                </div>
            </div>
        </section>
        {% endif %}

        <script>
            // Инициализация Swiper для журнала
            var journalSwiper = new Swiper('.journal-swiper', {
                slidesPerView: 3,
                spaceBetween: 30,
                navigation: {
                    nextEl: '.journal-next',
                    prevEl: '.journal-prev',
                },
            });

            // Инициализация Swiper для сайта
            var siteSwiper = new Swiper('.site-swiper', {
                slidesPerView: 3,
                spaceBetween: 30,
                navigation: {
                    nextEl: '.site-next',
                    prevEl: '.site-prev',
                },
            });
        </script>
    </main>
    <!-- ====== start footer ====== -->
    {% include 'include/footer.html' %}

    <!-- ====== end footer ====== -->

{% endblock %}